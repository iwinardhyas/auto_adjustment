import zmq
import base64
import cv2
import json

context = zmq.Context()

listgambar = [[1 2 3 4 5 6 7 8 9]]
# listgambar = [[-0.04624283 -0.03461836 -0.03777201  0.02090203  0.07783785 -0.00392519
#    0.05534866  0.06531934 -0.00547     0.01761615 -0.01880031  0.02774499
#    0.01625917 -0.00060632 -0.09005117  0.02249279 -0.02715055  0.04226357
#    0.01228197 -0.00248763 -0.02454388  0.00548499 -0.00681297 -0.06695787
#    0.01664441 -0.04605885  0.01814795 -0.05375043  0.05327448  0.05403624
#   -0.00423091 -0.04131702  0.0105112  -0.0155064  -0.0384912  -0.00278741
#   -0.00134359 -0.01833208 -0.04279349  0.05657743 -0.02754366  0.0397008
#    0.00737232  0.08795898  0.04863588  0.07466602 -0.03662255  0.07296374
#   -0.08123903 -0.00712111  0.02737632 -0.07308934  0.0090534   0.04268995
#   -0.05950607  0.03040317 -0.04512908  0.09523426 -0.02679681 -0.08807731
#    0.05240617 -0.0004092  -0.02016802 -0.05218504 -0.10997569  0.03661348
#   -0.05749296  0.02107805 -0.01246549  0.01300081 -0.02441078 -0.01344327
#    0.01081462 -0.01018997  0.04065968  0.00998801  0.02205396  0.04810977
#   -0.01776117 -0.02176595  0.03696611  0.05945271  0.04596639 -0.05582246
#   -0.01300915  0.06108463  0.03308165  0.01228292  0.01062369  0.03448639
#   -0.00051658 -0.07043792  0.04643451 -0.0021553   0.016989   -0.0490149
#    0.01726678  0.03496664 -0.07744232  0.06645327  0.06338242 -0.00263678
#    0.05922007 -0.00836754 -0.00192698 -0.01551396  0.00875675 -0.02177889
#    0.00088875 -0.06311132  0.02183154  0.08065936 -0.03652469 -0.08535236
#    0.0949109   0.03300499  0.03344502  0.03820281  0.03570681 -0.00023326
#    0.03348204  0.01387372  0.01676178 -0.02352343 -0.01131966 -0.08198642
#    0.00386114  0.01016724  0.02462146  0.01728258  0.0282966  -0.02687044
#   -0.01635605  0.01279105 -0.00600058 -0.05747943  0.06146035 -0.00384669
#    0.02476049  0.04755367 -0.0097124   0.04301659 -0.06770989  0.09542891
#    0.06788529  0.01385133  0.09357107  0.03134325 -0.01287063 -0.03451051
#    0.02812055 -0.0808268  -0.07733515  0.00405642  0.03869379 -0.05507956
#   -0.05433788  0.05358227 -0.00020908  0.02322337  0.03262697  0.00823805
#   -0.07777783  0.00566898  0.0787877   0.09427534 -0.04856217 -0.02620975
#   -0.03530494  0.04408912  0.00276379 -0.05012653  0.01524218  0.03044543
#    0.05913223  0.04028144  0.04508469 -0.04186016 -0.06741836  0.00216103
#    0.05643273 -0.01175659 -0.00437799  0.0175042   0.09440692  0.02974748
#    0.06512323 -0.07346236  0.04676062 -0.02240324  0.04138567  0.01999239
#    0.04524446 -0.0486296   0.13324745 -0.06356849 -0.02617576  0.03918427
#    0.00859272  0.01982598  0.02238298 -0.06951937  0.03190935 -0.07646912
#    0.00591031  0.05854127  0.05264317  0.0353533   0.09973339 -0.02216081
#   -0.01230818 -0.05956272  0.02460603 -0.0180952   0.00095794  0.00486333
#   -0.0676556   0.04425929 -0.00192183  0.01761975 -0.06639744 -0.02287842
#    0.00495459 -0.03762734 -0.02973055  0.00360104 -0.01729328  0.00859674
#   -0.01236517 -0.00819949 -0.07529195  0.04055862 -0.05325467 -0.00635093
#   -0.03078488  0.07662482  0.02154782 -0.09174055 -0.05122316  0.07472222
#   -0.00496041  0.02350521 -0.01932024  0.08319605  0.02875371 -0.00038602
#   -0.05387841 -0.04099781 -0.06151045  0.02506964  0.06106495  0.1068361
#   -0.02475007 -0.02653266  0.00177402 -0.00520591 -0.04145704  0.03011506
#    0.03070135  0.04664765 -0.05494267 -0.00076481 -0.03200064  0.08593743
#   -0.07986642  0.04184807  0.11066522 -0.05159546 -0.04826665 -0.03279716
#   -0.05269602 -0.01274671 -0.06589842 -0.01570785  0.01053463 -0.03567177
#    0.07998602  0.0132774   0.02524013 -0.0562097   0.02581234  0.04538114
#   -0.00246867 -0.06174909  0.03603169 -0.0371627   0.03650646 -0.00173067
#   -0.01845107 -0.07913575 -0.00838374 -0.0266647  -0.06926576  0.0288359
#    0.01256263  0.02246495 -0.01085508  0.03996125  0.01737125  0.04993
#    0.07247025  0.08904836  0.03867713  0.05468217  0.00452782  0.01607584
#   -0.00971129 -0.03255008 -0.05270865  0.02275846  0.01392514  0.04717569
#    0.04704501  0.03625517  0.03600749 -0.05404836 -0.02165376 -0.00805231
#    0.00844722  0.00096844  0.0204347   0.0407435  -0.03997819  0.02519489
#   -0.07275745  0.02694046  0.06003106 -0.03706651 -0.01830242 -0.06001845
#   -0.03333608 -0.03919717  0.01516039  0.05043158  0.00631794 -0.00925807
#    0.06528816 -0.01842915  0.02926746 -0.04695529  0.03100459  0.09030667
#    0.05082421  0.02199916 -0.05851216  0.00675952 -0.06508402  0.01363457
#    0.02649069 -0.01509951  0.06970659  0.03977412  0.02334316 -0.00160817
#   -0.07212043  0.00568845  0.07573889  0.01547471 -0.04994411 -0.01836561
#   -0.01417747 -0.02140327  0.0189496   0.1059229   0.05494834  0.01467068
#    0.05511594  0.00907652 -0.01320663 -0.01289446 -0.03211537 -0.06372748
#   -0.00644766  0.00545205 -0.02007183  0.01008039 -0.05400077 -0.06291987
#   -0.01003058 -0.00956034  0.05598768 -0.03249175 -0.02523809  0.047967
#   -0.0077956   0.02253853 -0.01723344 -0.05003821 -0.06740139 -0.01779337
#    0.05595713  0.00199516 -0.04492794 -0.06620429 -0.0091096   0.03886977
#    0.13073108  0.01728156  0.0648968  -0.02499502 -0.02007393  0.03854974
#    0.03133012  0.00955183 -0.00483135  0.02804056 -0.0739049  -0.03794187
#    0.08876292 -0.00731433  0.03506239 -0.0250041  -0.04733866 -0.06416434
#   -0.03650354  0.00561356 -0.0047927   0.0512051   0.0310551  -0.00187265
#   -0.03003912  0.02697251  0.03092096 -0.03462006 -0.07290875  0.01004628
#    0.00594623 -0.03997752 -0.02875822 -0.01543324  0.01469432  0.05490867
#   -0.05679116  0.04950788 -0.05216086  0.00789613  0.01336916  0.02747581
#    0.03040516  0.00369082 -0.05498001 -0.04476799 -0.04380196  0.0368504
#   -0.00337619  0.00107071 -0.0488483  -0.03019051  0.01955051 -0.09035698
#    0.05115863  0.01149371 -0.06483893 -0.03808888  0.02247421 -0.00409778
#    0.00568257 -0.01078712 -0.0079582   0.02789841  0.05781832  0.03716559
#    0.08197618 -0.004681    0.02269536  0.06337297 -0.04444572  0.03099488
#   -0.01187804 -0.02349736 -0.01944808  0.00196085  0.00313906 -0.06396023
#   -0.07774464 -0.00283878  0.04817176  0.04084367  0.01036134  0.02130846
#    0.01007548 -0.01308359 -0.03839016  0.03574463  0.08316066  0.06015204
#   -0.0794525  -0.00515787  0.05834207  0.00895722  0.00034543 -0.03824923
#   -0.00962648 -0.02269128  0.04546613 -0.0114518  -0.00334499 -0.00960002
#    0.04268352  0.00302584 -0.06470584 -0.028513    0.04331564 -0.06661688
#   -0.01846754  0.11104991  0.09481809  0.01425025 -0.0138676  -0.0730604
#    0.01238762 -0.03679464]]
#  Socket to talk to server
print("Connecting to hello world server…")
socket = context.socket(zmq.REQ)
socket.connect("tcp://localhost:5555")

#  Do 10 requests, waiting each time for a response
for request in range(10):
    print("Sending request %s …" % request)
    # socket.send(listgambar)
    socket.send_json(json.dumps(listgambar))


    #  Get the reply.
    message = socket.recv()
    print("Received reply %s [ %s ]" % (request, message))